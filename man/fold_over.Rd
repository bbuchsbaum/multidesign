% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/all_generic.R
\name{fold_over}
\alias{fold_over}
\title{Generate Cross-validation Folds}
\usage{
fold_over(x, ...)
}
\arguments{
\item{x}{The dataset to fold over (multidesign, hyperdesign, matrix, etc.)}

\item{...}{Additional arguments passed to methods:
* For multidesign/hyperdesign: unquoted names of variables to split on
* For matrices: nfolds (number of folds), stratum (stratification variable)}
}
\value{
A foldlist object containing:
  \item{analysis}{Training data for each fold}
  \item{assessment}{Test data for each fold}
  \item{held_out}{Information about which values were held out in each fold}
}
\description{
Creates cross-validation folds by splitting data based on specified design variables
or stratification factors. This function helps in creating stratified cross-validation
splits while respecting the structure of the data, particularly for complex experimental
designs.
}
\details{
The function creates folds by splitting the data based on unique combinations of the specified
variables. For each fold, one combination is held out as the assessment set (test set), 
while the rest form the analysis set (training set).

Different behaviors are implemented for different object types:
* For multidesign objects: Creates folds based on design variables
* For hyperdesign objects: Creates folds across blocks, respecting block structure
* For matrices: Creates folds based on external stratification variables
}
\examples{
# Basic example with matrix data
X <- matrix(rnorm(100*10), 100, 10)
groups <- rep(1:2, each=50)
folds <- fold_over(X, nfolds=5, stratum=groups)

# With a multidesign object
mds <- multidesign(X, data.frame(group=groups, subject=rep(1:10, each=10)))
folds_by_group <- fold_over(mds, group)

# With a hyperdesign object (multiple subjects)
d1 <- multidesign(matrix(rnorm(10*20), 10, 20),
                 data.frame(condition=rep(c("A","B"), 5), run=1:10))
d2 <- multidesign(matrix(rnorm(10*20), 10, 20),
                 data.frame(condition=rep(c("A","B"), 5), run=1:10))
hd <- hyperdesign(list(d1, d2), block_names=c("subject1", "subject2"))
folds_by_condition <- fold_over(hd, condition)

}
\seealso{
\code{\link{multidesign}} for creating multidesign objects,
  \code{\link{hyperdesign}} for creating hyperdesign objects,
  \code{\link{split_indices}} for splitting indices without creating folds
}
